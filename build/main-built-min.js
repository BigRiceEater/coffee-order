/**
 * @license text 2.0.16 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */
define("text",["module"],(function(e){"use strict";var t,n,o,r,a,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f="undefined"!=typeof location&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),u=f&&location.hostname,d=f&&(location.port||void 0),p={},m=e.config&&e.config()||{};function h(e,t){return void 0===e||""===e?t:e}return t={version:"2.0.16",strip:function(e){if(e){var t=(e=e.replace(i,"")).match(c);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){n=s[t];try{e=new ActiveXObject(n)}catch(e){}if(e){s=[n];break}}return e},parseName:function(e){var t,n,o,r=!1,a=e.lastIndexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==a&&(!s||a>1)?(t=e.substring(0,a),n=e.substring(a+1)):t=e,-1!==(a=(o=n||t).indexOf("!"))&&(r="strip"===o.substring(a+1),o=o.substring(0,a),n?n=o:t=o),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,o,r){var a,s,i,c=t.xdRegExp.exec(e);return!c||(a=c[2],i=(s=(s=c[3]).split(":"))[1],s=s[0],(!a||a===n)&&(!s||s.toLowerCase()===o.toLowerCase())&&(!i&&!s||function(e,t,n,o){if(t===o)return!0;if(e===n){if("http"===e)return h(t,"80")===h(o,"80");if("https"===e)return h(t,"443")===h(o,"443")}return!1}(a,i,n,r)))},finishLoad:function(e,n,o,r){o=n?t.strip(o):o,m.isBuild&&(p[e]=o),r(o)},load:function(e,n,o,r){if(r&&r.isBuild&&!r.inlineText)o();else{m.isBuild=r&&r.isBuild;var a=t.parseName(e),s=a.moduleName+(a.ext?"."+a.ext:""),i=n.toUrl(s),c=m.useXhr||t.useXhr;0!==i.indexOf("empty:")?!f||c(i,l,u,d)?t.get(i,(function(n){t.finishLoad(e,a.strip,n,o)}),(function(e){o.error&&o.error(e)})):
//!strip part to avoid file system issues.
n([s],(function(e){t.finishLoad(a.moduleName+"."+a.ext,a.strip,e,o)}),(function(e){o.error&&o.error(e)})):o()}},write:function(e,n,o,r){if(p.hasOwnProperty(n)){var a=t.jsEscape(p[n]);o.asModule(e+"!"+n,"define(function () { return '"+a+"';});\n")}},writeFile:function(e,n,o,r,a){var s=t.parseName(n),i=s.ext?"."+s.ext:"",c=s.moduleName+i,f=o.toUrl(s.moduleName+i)+".js";t.load(c,o,(function(n){var o=function(e){return r(f,e)};o.asModule=function(e,t){return r.asModule(e,f,t)},t.write(e,c,o,a)}),a)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(n=require.nodeRequire("fs"),t.get=function(e,t,o){try{var r=n.readFileSync(e,"utf8");"\ufeff"===r[0]&&(r=r.substring(1)),t(r)}catch(e){o&&o(e)}}):"xhr"===m.env||!m.env&&t.createXhr()?t.get=function(e,n,o,r){var a,s=t.createXhr();if(s.open("GET",e,!0),r)for(a in r)r.hasOwnProperty(a)&&s.setRequestHeader(a.toLowerCase(),r[a]);m.onXhr&&m.onXhr(s,e),s.onreadystatechange=function(t){var r,a;4===s.readyState&&((r=s.status||0)>399&&r<600?((a=new Error(e+" HTTP status: "+r)).xhr=s,o&&o(a)):n(s.responseText),m.onXhrComplete&&m.onXhrComplete(s,e))},s.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,o,r=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),"utf-8")),i="";try{for(n=new java.lang.StringBuffer,(o=s.readLine())&&o.length()&&65279===o.charAt(0)&&(o=o.substring(1)),null!==o&&n.append(o);null!==(o=s.readLine());)n.append(a),n.append(o);i=String(n.toString())}finally{s.close()}t(i)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(o=Components.classes,r=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in o,t.get=function(e,t){var n,s,i,c={};a&&(e=e.replace(/\//g,"\\")),i=new FileUtils.File(e);try{(n=o["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream)).init(i,1,0,!1),(s=o["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream)).init(n,"utf-8",n.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),c),s.close(),n.close(),t(c.value)}catch(e){throw new Error((i&&i.path||"")+": "+e)}}),t})),define("text!templates/coffee-order.html",[],(function(){return'<li class="media my-2 coffee-order" data-orderId="{{id}}">\n  \x3c!-- <i\n    class="fa fa-coffee fa-4x mr-3"\n    aria-hidden="true"\n    style="color : {{iconColor}}"\n  ></i> --\x3e\n  <img\n    src="{{image}}"\n    class="rounded mr-3"\n    alt="coffee"\n    width="70rem"\n    height="70rem"\n  />\n  <div class="media-body">\n    <h5 class="mt-0 mb-1 text-primary">{{coffeeName}}</h5>\n    <div class="d-flex justify-content-between">\n      <span>\n        <span class="font-weight-bold">Order By :</span> {{personName}}\n      </span>\n      <span>\n        <span class="font-weight-bold">Time :</span> {{submittedAt}}\n      </span>\n    </div>\n    <div class="progress">\n      <div\n        class="progress-bar progress-bar-striped progress-bar-animated"\n        role="progressbar"\n        aria-valuenow="0"\n        aria-valuemin="0"\n        aria-valuemax="100"\n        style="width: 0%;"\n      ></div>\n    </div>\n  </div>\n  <button type="button" class="close remove-coffee" aria-label="Close">\n    <span aria-hidden="true">&times;</span>\n  </button>\n</li>\n'})),define("app/constants",{coffee:{latte:"Latte",expresso:"Expresso",mocha:"Mocha",black:"Black"},events:{coffee:{new:"new-coffee",completed:"coffee-completed",cancel:"coffee-cancel"}}}),define("app/coffee",["jquery","mustache","text!templates/coffee-order.html","app/constants","bootstrap"],(function(e,t,n,o){let r=e("#coffee-list"),a=e(".placeholder-empty-orders"),s=[],i=null,c=null,f=null;function l(){r.find("li").length<1?a.show(500):a.hide(500)}return r.delegate(".remove-coffee","click",(function(){let t=e(this).closest(".coffee-order");(function(e){let t=s.find(t=>t.for===e);clearInterval(t.timer),s=s.filter(t=>t.for!==e)})(t.attr("data-orderId")),t.slideUp("fast",(function(){if(e(this).remove(),f){let e=t.attr("data-orderId");f(e)}l()}))})),{handleAddCoffee:function(e){r.append(t.render(n,e));let o=r.find(".coffee-order").last(),a=setInterval((function(){!function(e,t){let n=e.find(".progress-bar"),o=parseInt(n.attr("aria-valuenow")),r=Math.floor(50*Math.random()),a=o+r,s=!1;a>=100&&(a=100,s=!0);n.css({width:`+=${a}%`}),n.attr("aria-valuenow",a),s&&setTimeout((function(){e.find(".remove-coffee").trigger("click"),c&&c(t.id)}),500)}(o,e)}),Math.floor(5e3*Math.random()+1e3));s.push({for:e.id,timer:a}),i&&i(e.id),l()},on:function(e,t){let n=o.events.coffee;switch(e){case n.new:return i=t,!0;case n.completed:return c=t,!0;case n.cancel:return f=t,!0;default:return!1}}}})),define("app/chooseCoffee",["jquery","moment","app/constants"],(function(e,t,n){let o=e("#chooseCoffeeModal"),r=o.find("form"),a=r.find("#inputOrderBy"),s=r.find("#selectCoffeeDrink"),i=r.find("option:first").val(),c=function(){console.error("handleAddCoffee not registered yet")};function f(e){switch(e){case n.coffee.latte:return"img/latte.jpg";case n.coffee.expresso:return"img/expresso.jpg";case n.coffee.black:return"img/black.jpg";case n.coffee.mocha:return"img/mocha.jpg";default:return null}}return r.submit((function(e){e.preventDefault();let n={id:""+Date.now(),personName:a.val()||"Guest",coffeeName:s.val(),submittedAt:t().format("h:mma"),image:f(s.val())};o.modal("hide"),c(n)})),o.find(".add-coffee").click((function(){r.trigger("submit")})),o.on("hidden.bs.modal",(function(){a.val(""),s.val(i)})),{onCoffeeChosen:function(e){c=e}}})),define("text!templates/coffee-toast.html",[],(function(){return'<div\n  class="toast"\n  style="width: 15rem; white-space: nowrap;"\n  role="alert"\n  aria-live="assertive"\n  aria-atomic="true"\n>\n  <div class="toast-header">\n    <i class="fa fa-coffee mr-3" aria-hidden="true"></i>\n    <strong class="mr-auto">{{title}}</strong>\n    <small>{{ago}}</small>\n    <button\n      type="button"\n      class="ml-2 mb-1 close-toast close"\n      aria-label="Close"\n      aria-label="Close"\n    >\n      <span aria-hidden="true">&times;</span>\n    </button>\n  </div>\n  <div class="toast-body">\n    {{message}}\n  </div>\n</div>\n'})),define("app/notification",["jquery","mustache","text!templates/coffee-toast.html","jqueryui"],(function(e,t,n){const o=e("#toast-container");o.delegate(".close-toast","click",(function(){a(e(this))}));const r={autohide:!1,animation:!1};function a(t=null){let n=e(this);t&&(n=t),n.closest(".toast").slideUp("slow",(function(){e(this).remove()}))}return{showToast:function(e,s={}){let i=t.render(n,e);o.append(i);let c=o.find(".toast").last();s.theme&&c.find(".toast-header").addClass(s.theme),s.textColor&&(c.find(".toast-header").addClass(s.textColor),c.find(".close-toast").addClass(s.textColor)),c.toast(r),c.toast("show"),c.css("width","0px"),c.animate({width:"15rem"},500),setTimeout((function(){a(c)}),5e3)}}})),define("app/coffeeNotification",["app/notification","app/constants"],(function(e,t){return{notify:function(n,o){let r=t.events.coffee;switch(n){case r.new:return function(t){let n={title:"New Order",ago:"just now",message:`${t.personName} ordered a ${t.coffeeName}.`};e.showToast(n,{theme:"bg-primary",textColor:"text-white"})}(o),!0;case r.completed:return function(t){let n={title:"Completed",ago:"just now",message:t.coffeeName+" is done!"};e.showToast(n,{theme:"bg-success",textColor:"text-white"})}(o),!0;case r.cancel:!function(t){let n={title:"Cancelled",ago:"just now",message:`Order for ${t.personName} was cancelled`};e.showToast(n,{theme:"bg-danger",textColor:"text-white"})}(o);default:return!1}}}})),define("app/coffeeStore",[],(function(){let e={};function t(t){delete e[t]}function n(t){return e.hasOwnProperty(t)}return{add:function(t){t.hasOwnProperty("id")&&(e[t.id]=t)},remove:t,pop:function(o){if(n(o)){let n={};return Object.assign(n,e[o]),t(o),n}return null},find:function(t){return n(t)?e[t]:null}}})),define("app/app",["jquery","app/coffee","app/chooseCoffee","app/coffeeNotification","app/constants","app/coffeeStore"],(function(e,t,n,o,r,a){function s(){n.onCoffeeChosen((function(e){a.add(e),t.handleAddCoffee(e)}));let e=r.events.coffee;[e.new,e.completed,e.cancel].forEach((function(n){t.on(n,(function(t){let r=null;r=n!==e.new?a.pop(t):a.find(t),r&&o.notify(n,r)}))}))}return{start:function(){e(document).ready(s)}}})),requirejs.config({paths:{app:"app",jquery:"https://code.jquery.com/jquery-3.5.1.min",jqueryui:"https://code.jquery.com/ui/1.12.1/jquery-ui.min",popper:"https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min",bootstrap:"https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min",mustache:"https://cdnjs.cloudflare.com/ajax/libs/mustache.js/4.0.1/mustache.min",moment:"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.min"},shim:{bootstrap:["jquery"]},map:{"*":{"popper.js":"popper"}}}),requirejs(["app/app"],(function(e){e.start()})),define("main",(function(){}));